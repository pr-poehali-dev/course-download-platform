# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
1. **–¢–∞–±–ª–∏—Ü–∞ uploaded_works** - —Ä–∞–±–æ—Ç—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
2. **–¢–∞–±–ª–∏—Ü–∞ works** - –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
3. **–ë—ç–∫–µ–Ω–¥ —Ñ—É–Ω–∫—Ü–∏—è** - `upload-author-work` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏, –º–æ–¥–µ—Ä–∞—Ü–∏–∏, —Å–ø–∏—Å–∫–æ–≤)
4. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –≤–∫–ª–∞–¥–∫–∞ "–ú–æ–¥–µ—Ä–∞—Ü–∏—è" –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
5. **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** - –≤–∫–ª–∞–¥–∫–∞ "–ú–æ–∏ —Ä–∞–±–æ—Ç—ã" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

---

## –¢–µ—Å—Ç 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω email
- –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: X –±–∞–ª–ª–æ–≤

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∞
1. –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É –ø—Ä–æ—Ñ–∏–ª—è (–∏–∫–æ–Ω–∫–∞ User –≤ header)
3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ú–æ–∏ —Ä–∞–±–æ—Ç—ã"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –∑–∞–≥—Ä—É–∑–∫–∏:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: "–¢–µ—Å—Ç–æ–≤–∞—è –∫—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É"
   - **–¢–∏–ø —Ä–∞–±–æ—Ç—ã**: –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ (600‚ÇΩ)
   - **–ü—Ä–µ–¥–º–µ—Ç**: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥"
   - **–û–ø–∏—Å–∞–Ω–∏–µ**: "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
   - **–§–∞–π–ª**: test.pdf (< 50 –ú–ë)
5. –ù–∞–∂–∞—Ç—å "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞–±–æ—Ç—É"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–†–∞–±–æ—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞! –†–∞–±–æ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é. –ù–∞—á–∏—Å–ª–µ–Ω–æ +100 –±–∞–ª–ª–æ–≤!"
‚úÖ –ë–∞–ª–∞–Ω—Å —É–≤–µ–ª–∏—á–∏–ª—Å—è –Ω–∞ 100 –±–∞–ª–ª–æ–≤ (–Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: X + 100)
‚úÖ –§–æ—Ä–º–∞ –æ—á–∏—â–µ–Ω–∞
‚úÖ –í —Å–ø–∏—Å–∫–µ "–ú–æ–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã" –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏"

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```sql
SELECT id, user_id, title, moderation_status, price_points, created_at 
FROM uploaded_works 
WHERE user_id = [USER_ID] 
ORDER BY created_at DESC LIMIT 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `moderation_status` = 'pending'
- `price_points` = 600
- `created_at` = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```sql
SELECT user_id, amount, transaction_type, description, created_at 
FROM transactions 
WHERE user_id = [USER_ID] 
ORDER BY created_at DESC LIMIT 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `amount` = 100
- `transaction_type` = 'work_upload'
- `description` = '–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç—ã: –¢–µ—Å—Ç–æ–≤–∞—è –∫—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É'

---

## –¢–µ—Å—Ç 2: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–±–æ—Ç –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–ê–¥–º–∏–Ω)

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –ê–¥–º–∏–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (rekrutiw@yandex.ru)
- –ï—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'pending'

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∞
1. –û—Ç–∫—Ä—ã—Ç—å /admin
2. –í–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (email: rekrutiw@yandex.ru, –ø–∞—Ä–æ–ª—å: stas221974)
3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ú–æ–¥–µ—Ä–∞—Ü–∏—è"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
‚úÖ –î–ª—è –∫–∞–∂–¥–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–∫–∞–∑–∞–Ω—ã:
   - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
   - –ë–µ–π–¥–∂ "–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏"
   - –¢–∏–ø —Ä–∞–±–æ—Ç—ã, –ø—Ä–µ–¥–º–µ—Ç, —Ü–µ–Ω–∞
   - –ò–º—è —Ñ–∞–π–ª–∞ –∏ —Ä–∞–∑–º–µ—Ä
   - –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏
   - –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
   - –ö–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"

### API —Ç–µ—Å—Ç
```bash
curl -X GET "https://functions.poehali.dev/bca1c84a-e7e6-4b4c-8b15-85a8f319e0b0?pending=true" \
  -H "X-Admin: true"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "works": [
    {
      "id": 1,
      "user_id": 1,
      "title": "–¢–µ—Å—Ç–æ–≤–∞—è –∫—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É",
      "work_type": "coursework",
      "subject": "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥",
      "description": "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π",
      "price_points": 600,
      "file_name": "test.pdf",
      "file_size": 2048576,
      "moderation_status": "pending",
      "created_at": "2024-11-04T..."
    }
  ]
}
```

---

## –¢–µ—Å—Ç 3: –û–¥–æ–±—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã (–ê–¥–º–∏–Ω)

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –ê–¥–º–∏–Ω –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ú–æ–¥–µ—Ä–∞—Ü–∏—è"
- –ï—Å—Ç—å —Ä–∞–±–æ—Ç–∞ ID=1 —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'pending'

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∞
1. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û–¥–æ–±—Ä–∏—Ç—å" –Ω–∞ —Ä–∞–±–æ—Ç–µ
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤ –¥–∏–∞–ª–æ–≥–µ

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–†–∞–±–æ—Ç–∞ –æ–¥–æ–±—Ä–µ–Ω–∞. –†–∞–±–æ—Ç–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ"
‚úÖ –†–∞–±–æ—Ç–∞ –∏—Å—á–µ–∑–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ uploaded_works
```sql
SELECT id, moderation_status, moderated_at, published_at 
FROM uploaded_works 
WHERE id = 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `moderation_status` = 'approved'
- `moderated_at` = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
- `published_at` = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ works (–∫–∞—Ç–∞–ª–æ–≥)
```sql
SELECT id, title, work_type, subject, description, price_points, author_id, status
FROM works 
WHERE title = '–¢–µ—Å—Ç–æ–≤–∞—è –∫—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É'
ORDER BY id DESC LIMIT 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞
- `author_id` = user_id –∏–∑ uploaded_works
- `status` = 'active'
- `price_points` = 600
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ uploaded_works

### API —Ç–µ—Å—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è
```bash
curl -X POST "https://functions.poehali.dev/bca1c84a-e7e6-4b4c-8b15-85a8f319e0b0/moderate" \
  -H "Content-Type: application/json" \
  -H "X-Admin: true" \
  -d '{
    "workId": 1,
    "action": "approve"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "publishedWorkId": 4858,
  "message": "–†–∞–±–æ—Ç–∞ –æ–¥–æ–±—Ä–µ–Ω–∞ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞"
}
```

---

## –¢–µ—Å—Ç 4: –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π email (–ê–¥–º–∏–Ω)

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –ê–¥–º–∏–Ω –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ú–æ–¥–µ—Ä–∞—Ü–∏—è"
- –ï—Å—Ç—å —Ä–∞–±–æ—Ç–∞ ID=2 —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'pending'
- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∞–≤—Ç–æ—Ä–∞ –µ—Å—Ç—å email –≤ –±–∞–∑–µ
- –ù–∞—Å—Ç—Ä–æ–µ–Ω SMTP_USER –∏ SMTP_PASS –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∞
1. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–æ–Ω–∏—Ç—å" –Ω–∞ —Ä–∞–±–æ—Ç–µ
2. –í –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è —Ñ–æ—Ä–º–µ –≤–≤–µ—Å—Ç–∏ –ø—Ä–∏—á–∏–Ω—É:
   ```
   –†–∞–±–æ—Ç–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã, 
   –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞—Å–∫—Ä—ã—Ç–∞ —Ç–µ–º–∞, –Ω–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏.
   ```
3. –ù–∞–∂–∞—Ç—å "–û—Ç–∫–ª–æ–Ω–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–†–∞–±–æ—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ê–≤—Ç–æ—Ä—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—á—Ç—É"
‚úÖ –†–∞–±–æ—Ç–∞ –∏—Å—á–µ–∑–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ uploaded_works
```sql
SELECT id, moderation_status, moderation_comment, moderated_at 
FROM uploaded_works 
WHERE id = 2;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `moderation_status` = 'rejected'
- `moderation_comment` = –≤–≤–µ–¥—ë–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞
- `moderated_at` = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ email
üìß **–ù–∞ –ø–æ—á—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø–∏—Å—å–º–æ:**

**–¢–µ–º–∞:** "–í–∞—à–∞ —Ä–∞–±–æ—Ç–∞ "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã" –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º"

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (HTML):**
```
–†–∞–±–æ—Ç–∞ –Ω–µ –ø—Ä–æ—à–ª–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤–∞—à–∞ —Ä–∞–±–æ—Ç–∞ "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã" –±—ã–ª–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º.

–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:
–†–∞–±–æ—Ç–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã, 
–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞—Å–∫—Ä—ã—Ç–∞ —Ç–µ–º–∞, –Ω–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏.

–í—ã –º–æ–∂–µ—Ç–µ –≤–Ω–µ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞–±–æ—Ç—É –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ –≤–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç.

–° —É–≤–∞–∂–µ–Ω–∏–µ–º,
–ö–æ–º–∞–Ω–¥–∞ TechForma
```

### API —Ç–µ—Å—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
```bash
curl -X POST "https://functions.poehali.dev/bca1c84a-e7e6-4b4c-8b15-85a8f319e0b0/moderate" \
  -H "Content-Type: application/json" \
  -H "X-Admin: true" \
  -d '{
    "workId": 2,
    "action": "reject",
    "comment": "–†–∞–±–æ—Ç–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "userEmail": "user@example.com",
  "workTitle": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã",
  "rejectionComment": "–†–∞–±–æ—Ç–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º...",
  "emailSent": true,
  "message": "–†–∞–±–æ—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ email"
}
```

---

## –¢–µ—Å—Ç 5: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–æ–≤ —Ä–∞–±–æ—Ç (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∑–∏–ª 3 —Ä–∞–±–æ—Ç—ã:
  1. –û–¥–æ–±—Ä–µ–Ω–Ω–∞—è (approved)
  2. –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (pending)
  3. –û—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è (rejected)

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∞
1. –û—Ç–∫—Ä—ã—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ú–æ–∏ —Ä–∞–±–æ—Ç—ã"
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑ –¥–æ —Å–ø–∏—Å–∫–∞ "–ú–æ–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ 3 —Ä–∞–±–æ—Ç—ã
‚úÖ –î–ª—è –∫–∞–∂–¥–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–∫–∞–∑–∞–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–µ–π–¥–∂:
   - –†–∞–±–æ—Ç–∞ 1: –ó–µ–ª—ë–Ω—ã–π –±–µ–π–¥–∂ "–û–¥–æ–±—Ä–µ–Ω–æ"
   - –†–∞–±–æ—Ç–∞ 2: –°–µ—Ä—ã–π –±–µ–π–¥–∂ "–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏"
   - –†–∞–±–æ—Ç–∞ 3: –ö—Ä–∞—Å–Ω—ã–π –±–µ–π–¥–∂ "–û—Ç–∫–ª–æ–Ω–µ–Ω–æ"

‚úÖ –î–ª—è –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–π
   - –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –±–∞–ª–ª–æ–≤

‚úÖ –î–ª—è –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–∫–∞–∑–∞–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (–∫—Ä–∞—Å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º)

### API —Ç–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X GET "https://functions.poehali.dev/bca1c84a-e7e6-4b4c-8b15-85a8f319e0b0?user_id=1" \
  -H "X-User-Id: 1"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "works": [
    {
      "id": 3,
      "title": "–†–∞–±–æ—Ç–∞ 3",
      "moderation_status": "rejected",
      "moderation_comment": "–†–∞–±–æ—Ç–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º...",
      "downloads_count": 0,
      "earnings_total": 0,
      "created_at": "..."
    },
    {
      "id": 2,
      "title": "–†–∞–±–æ—Ç–∞ 2",
      "moderation_status": "pending",
      "moderation_comment": null,
      "downloads_count": 0,
      "earnings_total": 0,
      "created_at": "..."
    },
    {
      "id": 1,
      "title": "–†–∞–±–æ—Ç–∞ 1",
      "moderation_status": "approved",
      "moderation_comment": null,
      "downloads_count": 5,
      "earnings_total": 3000,
      "created_at": "..."
    }
  ]
}
```

---

## –¢–µ—Å—Ç 6: –ü–æ–∫—É–ø–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –†–∞–±–æ—Ç–∞ ID=4858 –æ–¥–æ–±—Ä–µ–Ω–∞ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- –£ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –±–∞–ª–∞–Ω—Å >= 600 –±–∞–ª–ª–æ–≤

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∞
1. –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ù–∞–π—Ç–∏ —Ä–∞–±–æ—Ç—É "–¢–µ—Å—Ç–æ–≤–∞—è –∫—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É"
3. –ù–∞–∂–∞—Ç—å "–í –∫–æ—Ä–∑–∏–Ω—É"
4. –û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É
5. –ù–∞–∂–∞—Ç—å "–ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –ë–∞–ª–∞–Ω—Å —É–º–µ–Ω—å—à–∏–ª—Å—è –Ω–∞ 600 –±–∞–ª–ª–æ–≤
‚úÖ –†–∞–±–æ—Ç–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –≤ "–ú–æ–∏ –ø–æ–∫—É–ø–∫–∏"
‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å"

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—É–ø–∫–∏ –≤ –ë–î
```sql
SELECT id, user_id, work_id, price_paid, created_at 
FROM purchases 
WHERE work_id = 4858 
ORDER BY created_at DESC LIMIT 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `user_id` = ID –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- `work_id` = 4858 (–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
- `price_paid` = 600

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ä–∞–±–æ—Ç–∞ –∏–∑ works, –∞ –Ω–µ uploaded_works
```sql
-- –≠—Ç–∞ —Ä–∞–±–æ—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ works
SELECT id, title FROM works WHERE id = 4858;

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ purchases —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ works, –∞ –Ω–µ –Ω–∞ uploaded_works
SELECT p.id, p.work_id, w.title 
FROM purchases p
JOIN works w ON p.work_id = w.id
WHERE p.work_id = 4858;
```

---

## –¢–µ—Å—Ç 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü

### –¢–µ—Å—Ç 7.1: –†–∞–±–æ—Ç—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –Ω–µ –≤–∏–¥–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

```sql
-- –í uploaded_works –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º pending
SELECT COUNT(*) FROM uploaded_works WHERE moderation_status = 'pending';
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: > 0

-- –í –∫–∞—Ç–∞–ª–æ–≥–µ works —ç—Ç–æ–π —Ä–∞–±–æ—Ç—ã –ù–ï–¢
SELECT COUNT(*) FROM works WHERE title = '–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã pending';
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 0
```

### –¢–µ—Å—Ç 7.2: –û—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥

```sql
-- –í uploaded_works –µ—Å—Ç—å –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
SELECT COUNT(*) FROM uploaded_works WHERE moderation_status = 'rejected';
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: > 0

-- –í –∫–∞—Ç–∞–ª–æ–≥–µ works –µ—ë –ù–ï–¢
SELECT id FROM works WHERE title IN (
  SELECT title FROM uploaded_works WHERE moderation_status = 'rejected'
);
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 0 —Å—Ç—Ä–æ–∫
```

### –¢–µ—Å—Ç 7.3: –¢–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥

```sql
-- –í—Å–µ —Ä–∞–±–æ—Ç—ã –∏–∑ works –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∑–∞–ø–∏—Å—å –≤ uploaded_works —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º approved
SELECT w.id, w.title, uw.moderation_status
FROM works w
LEFT JOIN uploaded_works uw ON w.title = uw.title AND w.author_id = uw.user_id
WHERE uw.moderation_status IS NULL OR uw.moderation_status != 'approved';
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 0 —Å—Ç—Ä–æ–∫ (–≤—Å–µ –æ–¥–æ–±—Ä–µ–Ω—ã)
```

---

## –¢–µ—Å—Ç 8: SMTP –æ—Ç–ø—Ä–∞–≤–∫–∞ email (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
SMTP_USER=–≤–∞—à_email@yandex.ru
SMTP_PASS=–ø–∞—Ä–æ–ª—å_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
```

### –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ (–≤ –∫–æ–¥–µ –±—ç–∫–µ–Ω–¥–∞)
–ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –∫–æ–¥:
```python
if user_email:
    try:
        import smtplib
        from email.mime.text import MIMEText
        from email.mime.multipart import MIMEMultipart
        
        msg = MIMEMultipart('alternative')
        msg['Subject'] = f'–í–∞—à–∞ —Ä–∞–±–æ—Ç–∞ "{work_title}" –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º'
        msg['From'] = smtp_user
        msg['To'] = user_email
        
        # HTML –ø–∏—Å—å–º–æ
        html = f'''...HTML –∫–æ–Ω—Ç–µ–Ω—Ç...'''
        msg.attach(MIMEText(html, 'html'))
        
        server = smtplib.SMTP_SSL('smtp.yandex.ru', 465)
        server.login(smtp_user, smtp_pass)
        server.send_message(msg)
        server.quit()
        
        email_sent = True
    except Exception as email_error:
        print(f'Email error: {email_error}')
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ –ø–æ—Å–ª–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–∏–±–æ email_sent = True, –ª–∏–±–æ –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö
```

---

## –°–≤–æ–¥–∫–∞ –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ API

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| POST | `/upload-author-work` | –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º |
| GET | `/upload-author-work?user_id=X` | –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/upload-author-work?pending=true` | –†–∞–±–æ—Ç—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–∞–¥–º–∏–Ω) |
| POST | `/upload-author-work/moderate` | –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (–∞–¥–º–∏–Ω) |
| GET | `/works` | –ö–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç |
| POST | `/purchase-work` | –ü–æ–∫—É–ø–∫–∞ —Ä–∞–±–æ—Ç—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ |

---

## –ß–µ–∫–ª–∏—Å—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –§–æ—Ä–º–∞ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ email –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- [ ] –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ +100 –±–∞–ª–ª–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ uploaded_works
- [ ] –°—Ç–∞—Ç—É—Å 'pending' –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- [ ] –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ pending —Ä–∞–±–æ—Ç
- [ ] –ö–Ω–æ–ø–∫–∞ "–û–¥–æ–±—Ä–∏—Ç—å" –ø—É–±–ª–∏–∫—É–µ—Ç –≤ works
- [ ] –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É –ø—Ä–∏—á–∏–Ω—ã
- [ ] –ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è email
- [ ] –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –ë–î

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∞
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—ã –∏–∑ works
- [ ] Pending —Ä–∞–±–æ—Ç—ã –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- [ ] Rejected —Ä–∞–±–æ—Ç—ã –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- [ ] –¢–æ–ª—å–∫–æ approved —Ä–∞–±–æ—Ç—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏
- [ ] –ü–æ–∫—É–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–∞–±–ª–∏—Ü–µ–π works
- [ ] –ë–∞–ª–∞–Ω—Å —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Purchases —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ works.id

### Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] SMTP_USER –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SMTP_PASS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Email –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ reject
- [ ] –ü–∏—Å—å–º–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- [ ] HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä** - —Å–µ–π—á–∞—Å file_data –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ S3/–¥–∏—Å–∫
2. **–ù–µ—Ç –ø—Ä–µ–≤—å—é –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç** - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–µ–≤—å—é
3. **–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏** - –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –æ–¥–æ–±—Ä–∏–ª/–æ—Ç–∫–ª–æ–Ω–∏–ª
4. **Email –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ SMTP_PASS** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç SMTP_PASS
2. ‚ö†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ –Ω–∞ S3 (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ base64 –≤ JSON)
3. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å)
4. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É (–º–∞–∫—Å N —Ä–∞–±–æ—Ç –≤ –¥–µ–Ω—å)

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ
1. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ email –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç
3. –ò—Å—Ç–æ—Ä–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Å –ª–æ–≥–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≤ –∞–¥–º–∏–Ω–∫–µ
5. –§–∏–ª—å—Ç—Ä —Ä–∞–±–æ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞

### Nice to have
1. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
2. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –≤–∏–¥–Ω—ã –∞–≤—Ç–æ—Ä—É
3. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
4. –ú–∞—Å—Å–æ–≤–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç
5. –®–∞–±–ª–æ–Ω—ã –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
